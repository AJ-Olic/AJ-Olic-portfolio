google.maps.__gjsload__('drawing_impl', function(_){var Tnb=function(a,b){b.forEach(c=>void a.unbind(c))},x9=function(a){if(!a.Dg){var b={};_.pl(b,a.get("options"));b.zIndex==null&&(b.zIndex=a.Og());delete b.map;a.Dg=a.Gi.PD(b)}},y9=function(a,b,c){a.Dg&&(a.Eg&&a.Fg?(a.Dg.get("map")||a.Dg.bindTo("map",a),a.Gi.EC(a.Dg,a.Eg,b,c.Dg<a.Fg.Dg)):a.Gi.EC(a.Dg,b))},Unb=function(a,b,c){y9(a,b,c);b=a.Dg.get("map");c=a.Dg;c.unbind("map");a.Dg=null;_.Tm(a,"overlaycomplete",{type:a.Gi.FE(),overlay:c});_.Tm(a,a.Gi.AE(),c);_.Fn(b,"DMsim");_.M(b,147922);a.Eg=null;
a.Fg=null;a.Gg=!1},Vnb=function(a){if(!a.Dg){var b={};_.pl(b,a.get("options"));delete b.map;a.Dg=new _.ho(b)}},A9=function(a){const b=a.get("options");var c=new _.Xm;c.setValues(b);var d=new _.AN(c,a.Eg);c={};_.pl(c,b);c.strokeColor=d.get("strokeColor");c.strokeOpacity=d.get("strokeOpacity");c.strokeWeight=d.get("strokeWeight");c.zIndex==null&&(c.zIndex=a.Gg());delete c.path;delete c.map;const e=new _.Dv(c);e.bindTo("map",a);c.strokeOpacity=d.get("ghostStrokeOpacity");d=new _.vBa;d.setValues(c);d.set("anchors",
[]);d.bindTo("map",a);var f=null;a.Eg&&(f={},_.pl(f,b),f.zIndex=c.zIndex,f.paths=new _.Ho([e.getPath()]),delete f.map,f=new _.Cv(f));a.Dg={polyline:e,AB:f,Tl:d};z9(a)},B9=function(a){const b=a.get("map"),c=a.Dg.polyline;c.unbind("map");const d=a.Dg.AB;a.Dg.Tl.unbind("map");a.Dg.Tl.set("map",null);a.Dg=null;a.set("draggableCursor",a.Fg);c.getPath().getLength()?(a.Eg?(c.set("map",null),d.set("map",b),_.Tm(a,"overlaycomplete",{type:"polygon",overlay:d}),_.Tm(a,"polygoncomplete",d)):(_.Tm(a,"overlaycomplete",
{type:"polyline",overlay:c}),_.Tm(a,"polylinecomplete",c)),_.Fn(b,"DMpol"),_.M(b,147921),z9(a)):c.set("map",null)},C9=function(a,b){a.Dg.polyline.getPath().push(b);a.Dg.Tl.set("anchors",[b])},Wnb=function(a,b){var c=a.Dg.polyline.getPath(),d=c.getLength();if(d){var e=a.get("map");const g=e.get("projection");e=e.__gm.get("zoom");e=a.Og/(1<<e);const h=g.fromLatLngToPoint(b,a.Rg);if(h===null)return null;b=b.lng();d=c.getAt(d-1);var f=new _.om(d.lat(),_.rl(d.lng(),b-180,b+180),!0);f=g.fromLatLngToPoint(f,
a.Pg);if(f===null)return null;if(Math.abs(h.x-f.x)<=e&&Math.abs(h.y-f.y)<=e)return{type:1,latLng:d};c=c.getAt(0);b=new _.om(c.lat(),_.rl(c.lng(),b-180,b+180),!0);a=g.fromLatLngToPoint(b,a.Qg);if(a===null)return null;if(Math.abs(h.x-a.x)<=e&&Math.abs(h.y-a.y)<=e)return{type:2,latLng:c}}return null},Xnb=function(a,b){const c=Wnb(a,b);c?(a.Eg||c.type!=2||C9(a,c.latLng),B9(a)):C9(a,b)},z9=function(a){a.set("enablePanning",!!a.Dg&&a.get("drawPolysWithDrag")&&!a.get("panWhileDrawing"))},Ynb=function(){let a=
0;return function(){return a++}},aob=function(a){const b=new _.uBa(Znb);let c=!1;Znb.forEach(d=>{_.Em(b,d,(e,f)=>{const g=e instanceof _.Dz,h=g?e.Dg:e;if(d==="click"||d==="dblclick"||d==="mousemove")g?(d==="click"&&_.By(e.Dg),d==="dblclick"&&_.By(e.Dg),d==="mousemove"&&_.wz(e)):_.Cm(e);if(d!=="mousewheel"&&(!c||d!=="mousemove")){if(d==="mousemove"||d==="move")a.Jg=d,a.Ng=h,a.Mg=f;if(c||!a.get("panWhileDrawing"))d==="movestart"&&(c=!0),d==="moveend"&&(c=!1),e=Date.now(),d==="panbynow"?a.Jg&&$nb(a,
a.Jg,a.Ng,e,a.Mg):$nb(a,d,h,e,f)}})});return b},bob=function(a){const b=new _.$M(["map","drawingMode","pegmanDragging"],"active",(c,d,e)=>!!c&&!!d&&!e);b.bindTo("map",a);b.bindTo("drawingMode",a);a.Eg.bindTo("active",b);return b},cob=function(a){const b=new _.$M(["draggableCursor","panWhileDrawing"],"cursor",(c,d)=>d?null:c);b.bindTo("panWhileDrawing",a);a.Eg.bindTo("draggableCursor",b,"cursor");return b},$nb=function(a,b,c,d,e){var f=a.get("map");if(a.Dg){var g=f.__gm.get("projectionController"),
h=f.__gm.get("panes");if(g&&h&&(g=e||c,a.Yg&&g)){e=a.Yg.Ql(g);f=_.Qr(e,f.getProjection());g=new _.Nn(g.clientX,g.clientY);(h=(h=a.get("snappingCallback"))&&h(a.Dg.Mg(f,e)))&&(f=h);h=!1;if(b==="click"){if(d-a.Lg<=300&&a.Gg&&_.sl(a.Gg.x,g.x,a.Hg)&&_.sl(a.Gg.y,g.y,a.Hg))return;a.Gg=g;a.Lg=d;h=a.Dg.Hg(f,e)}else b==="dblclick"?h=a.Dg.Ng():b==="mousemove"?h=a.Dg.Ig(f,e):b==="movestart"?h=a.Dg.Lg(f,e):b==="move"?h=a.Dg.Jg(f,e):b==="moveend"&&(h=a.Dg.Kg(f,e));h&&c&&_.Cm(c)}}},dob=function(a){switch(a){case null:return null;
case "Point":return"marker";case "LineString":return"polyline";case "Polygon":return"polygon";default:return null}},iob=class extends _.Xm{constructor(a,b){function c(f,g,h,l){const n=document.createElement("div");a.appendChild(n);n.style.cssFloat="left";n.style.lineHeight="0";g={title:g,Dy:h,PB:l,padding:[4],QA:!0,aF:!0};h=document.createElement("span");h.style.display="inline-block";const p=f||"hand",r=eob[p],u=_.LL(d,h,new _.Nn(0,r),fob);u.style.position="relative";const w=_.fO(n,h,f,g);_.Em(w,
"active_changed",()=>{const x=w.get("active")?gob[p]:r;_.ML(u,fob,new _.Nn(0,x))});w.bindTo("value",e,"drawingMode")}super();const d=_.Hr("drawing");a.setAttribute("role","menubar");const e=this;c(null,"Stop drawing",!0,!b.length);_.Ob(b,(f,g)=>{const h=hob[f||""];h&&c(f,h,!1,g===b.length-1)})}},fob=new _.Pn(16,16),gob={hand:144,marker:112,polygon:96,polyline:128,rectangle:48,circle:0},eob={hand:80,marker:176,polygon:64,polyline:32,rectangle:16,circle:160},hob={marker:"Add a marker",polygon:"Draw a shape",
polyline:"Draw a line",rectangle:"Draw a rectangle",circle:"Draw a circle"};var D9=class extends _.Xm{Hg(){return!1}Ng(){return!1}Ig(){return!1}Lg(){return!1}Jg(){return!1}Kg(){return!1}};var job=class extends D9{constructor(a,b,c){super();this.Gi=a;this.cursor=b;this.Og=c;this.Fg=this.Eg=this.Dg=null;this.Gg=!1}Mg(a,b){x9(this);y9(this,a,b);return{latLng:a,overlay:this.Dg}}active_changed(){if(this.get("active"))this.set("draggableCursor",this.cursor),this.set("draggingCursor","");else{const a=this.Dg;a&&(a.unbind("map"),a.set("map",null),this.Dg=null);this.Fg=this.Eg=null;this.Gg=!1}}Hg(a,b){this.Eg?Unb(this,a,b):(x9(this),this.Eg=a,this.Fg=b,y9(this,a,b),this.Gg=!0);return!1}Ig(a,
b){y9(this,a,b);return!1}Lg(a,b){if(this.Gg)return!1;this.set("draggingCursor",this.cursor);this.set("enablePanning",!0);x9(this);this.Eg=a;this.Fg=b;y9(this,a,b);return!0}Jg(a,b){if(this.Gg)return!1;y9(this,a,b);return!0}Kg(a,b){if(this.Gg)return!1;this.set("draggingCursor","");this.set("enablePanning",!1);Unb(this,a,b);return!0}};var kob=class{PD(a){return new _.Oo(a)}EC(a,b,c){a.set("center",b);var d=0;const e=a.get("map");e&&c&&(d=e.__gm.get("baseMapType"),d=_.GI(b,c,d&&d.radius));a.set("radius",d)}FE(){return"circle"}AE(){return"circlecomplete"}};var lob=class extends D9{constructor(a){super();this.cursor=a;this.Dg=null}Mg(a){Vnb(this);this.Dg.setPosition(a);return{latLng:a,overlay:this.Dg}}active_changed(){this.get("active")&&this.set("draggableCursor",this.cursor)}Hg(a){const b=this.get("map");Vnb(this);this.Dg.setPosition(a);this.Dg.setMap(b);_.Tm(this,"overlaycomplete",{type:"marker",overlay:this.Dg});_.Tm(this,"markercomplete",this.Dg);_.Fn(b,"DMmar");_.M(b,147920);this.Dg=null;return!1}};var mob=class extends D9{constructor(a,b,c,d){super();this.Eg=a;this.Fg=b;this.Gg=c;this.Og=d+1E-6;this.Dg=null;this.Rg=new _.Nn(0,0);this.Pg=new _.Nn(0,0);this.Qg=new _.Nn(0,0)}Mg(a){this.Dg&&this.Dg.polyline||A9(this);return{latLng:a,overlay:this.Dg.AB||this.Dg.polyline}}active_changed(){this.get("active")?this.set("draggableCursor",this.Fg):this.Dg&&this.Dg.polyline&&(this.get("drawingMode")===null?B9(this):(this.Dg.polyline.unbind("map"),this.Dg.polyline.set("map",null),this.Dg.Tl.unbind("map"),
this.Dg.Tl.set("map",null),this.Eg&&this.Dg.AB.set("map",null),this.Dg=null))}Hg(a){if(!a)return!1;this.Dg?Xnb(this,a):(A9(this),C9(this,a));return!1}Ng(){this.Dg&&this.Dg.polyline.getPath().getLength()>1&&B9(this);return!1}Ig(a){let b=a;this.Dg&&a&&(a=Wnb(this,a),this.set("draggableCursor",a?"pointer":this.Fg),a&&(b=a.latLng),this.Dg.Tl.set("freeVertexPosition",b));return!1}Lg(a){return a?this.get("drawPolysWithDrag")?(this.Dg||A9(this),this.Dg.polyline.getPath().getLength()||C9(this,a),this.set("draggingCursor",
this.Fg),!0):!1:!1}Jg(a){return this.Dg&&this.get("drawPolysWithDrag")?(this.Dg.Tl.set("freeVertexPosition",a),!0):!1}Kg(a){return a?this.get("drawPolysWithDrag")?(this.Dg&&(Xnb(this,a),this.set("draggingCursor","")),this.Dg&&this.Dg.Tl.set("freeVertexPosition",null),!0):!1:!1}drawPolysWithDrag_changed(){z9(this)}panWhileDrawing_changed(){z9(this)}};var nob=class{PD(a){return new _.Ev(a)}EC(a,b,c,d=!1){c=c||b;let e=c.lat(),f=b.lat();b.lat()<c.lat()&&(e=b.lat(),f=c.lat());let g=b.lng(),h=c.lng();d&&(g=c.lng(),h=b.lng());b=_.xn(e,g,f,h);a.set("bounds",b)}FE(){return"rectangle"}AE(){return"rectanglecomplete"}};var Znb="click dblclick movestart move moveend panbynow mousewheel mousemove".split(" "),oob=class extends _.Xm{constructor(){super();this.Dg=null;this.Og=[];this.Gg=this.Ig=null;this.Lg=0;this.Ng=this.Jg=null;this.Yg=this.Mg=void 0;this.Eg=aob(this);this.Kg=bob(this);const a=this.getCursor(),b=Ynb();this.Hg=6+(_.Zy()?9:0);this.Fg={circle:new job(new kob,a,b),marker:new lob(a),polygon:new mob(!0,a,b,this.Hg),polyline:new mob(!1,a,b,this.Hg),rectangle:new job(new nob,a,b)};const c=cob(this);Object.keys(this.Fg).forEach(d=>
{const e=this.Fg[d];e.bindTo("map",this);e.bindTo("drawingMode",this);e.bindTo("panWhileDrawing",this);e.bindTo("draggingCursor",this.Eg);e.bindTo("draggableCursor",c);e.bindTo("enablePanning",this.Eg,"panAtEdge");e.bindTo("options",this,`${d}Options`);_.Sm(e,"overlaycomplete",this);_.Sm(e,`${d}complete`,this)});this.Fg.polygon.bindTo("drawPolysWithDrag",this);this.Fg.polyline.bindTo("drawPolysWithDrag",this)}map_changed(){const a=this.get("map"),b=this.Eg;if(a){const c=a.__gm;c.Eg.then(({Yg:d})=>
{this.Yg=d});this.bindTo("mouseEventTarget",c);this.Kg.bindTo("pegmanDragging",c);b.bindTo("draggable",a);b.bindTo("scrollwheel",a);this.Ig=_.Sm(b,"panbynow",c)}else this.unbind("mouseEventTarget"),this.set("mouseEventTarget",null),this.Kg.unbind("pegmanDragging"),b.unbind("draggable"),b.unbind("scrollwheel"),this.Ig&&(_.Gm(this.Ig),this.Ig=null)}mouseEventTarget_changed(){const a=["panes","pixelBounds"];Tnb(this.Eg,a);this.Og.forEach(_.Gm);this.Og.length=0;if(this.get("mouseEventTarget")){const b=
this.Eg,c=this.get("map");_.mJ(b,a,c.__gm)}}drawingMode_changed(){this.Dg&&this.Dg.set("active",!1);this.Eg.set("panAtEdge",!1);const a=this.get("drawingMode");(this.Dg=this.Fg[a])&&this.Dg.set("active",!0)}getCursor(){let a="url("+_.qD+"crosshair.cur)";_.oq.Dg&&(a+=" 7 7");return`${a}, crosshair`}};var qob=class extends _.Xm{constructor(a){super();this.Fg=new _.Wp(()=>{this.Dg&&(this.Eg.Wl(this.Dg),_.$q(this.Dg),this.Dg=null,this.Gg.unbindAll(),this.Gg=null);if((this.Eg=this.get("layoutManager"))&&this.get("drawingControl")!=0){const c=this.get("drawingControlOptions")||{},d=c.drawingModes||pob,e=document.createElement("div");_.DN(e);e.style.margin=_.Bl(5);_.Xy(e,10);this.Dg=e;this.Gg=new iob(this.Dg,d);this.Gg.bindTo("drawingMode",this);this.Eg.addElement(this.Dg,c.position||14,!1,.25)}},0);
const b=new oob;b.bindTo("map",a);b.bindTo("drawingMode",a);b.bindTo("panWhileDrawing",a);b.bindTo("markerOptions",a);b.bindTo("polygonOptions",a);b.bindTo("polylineOptions",a);b.bindTo("rectangleOptions",a);b.bindTo("circleOptions",a);b.bindTo("drawPolysWithDrag",a);_.Sm(b,"overlaycomplete",a);_.Sm(b,"circlecomplete",a);_.Sm(b,"markercomplete",a);_.Sm(b,"polygoncomplete",a);_.Sm(b,"polylinecomplete",a);_.Sm(b,"rectanglecomplete",a);this.bindTo("map",a);this.bindTo("drawingControl",a);this.bindTo("drawingControlOptions",
a);this.bindTo("drawingMode",a);this.set("snappingCallback",a.get("snappingCallback"));a.bindTo("snappingCallback",this);b.bindTo("snappingCallback",this);_.Fn(a.get("map"),"DMnew");_.M(a.get("map"),147919)}map_changed(){var a=this.get("map");a?(a=a.__gm,this.bindTo("layoutManager",a),a.set("snappingCallback",this.get("snappingCallback")),this.bindTo("snappingCallback",a)):(this.unbind("layoutManager"),this.set("layoutManager",null),this.unbind("snappingCallback"))}layoutManager_changed(){_.Xp(this.Fg)}drawingControl_changed(){_.Xp(this.Fg)}drawingControlOptions_changed(){_.Xp(this.Fg)}},
pob=["marker","polyline","rectangle","circle","polygon"];_.Uk("drawing_impl",{cH:qob,mK:function(a){const b=new _.Xm,c=new _.$M(["dataDrawingMode"],"drawingManagerMode",dob);c.bindTo("dataDrawingMode",a,"drawingMode");const d=new _.$M(["styleOrStylingFunction"],"style",g=>typeof g==="function"?g(new _.Vm):g);d.bindTo("styleOrStylingFunction",a,"style");const e=new _.$M(["controls","controlPosition"],"drawingControlOptions",(g,h)=>({drawingModes:g.map(dob),position:h}));e.bindTo("controls",a);e.bindTo("controlPosition",a);const f=new _.$M(["controls"],"drawingControl",
g=>!!g);f.bindTo("controls",a);b.bindTo("map",a);b.bindTo("drawingMode",c,"drawingManagerMode");b.bindTo("markerOptions",d,"style");b.bindTo("polylineOptions",d,"style");b.bindTo("polygonOptions",d,"style");b.bindTo("drawingControlOptions",e);b.bindTo("drawingControl",f);_.Em(b,"overlaycomplete",g=>{g=g.overlay;var h=_.yza([g]);const l=a.get("featureFactory");h=l?l(h):new _.Vm({geometry:h});a.add(h);g.set("map",null)});new qob(b);_.Qm(a,"map_changed",()=>{const g=a.get("map");g&&(_.Fn(g,"Le"),_.M(g,
148236))})}});});
